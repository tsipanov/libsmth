<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libsmth: src/smth-fragment-parser.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>src/smth-fragment-parser.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Binary Fragments parser.  
<a href="#_details">More...</a></p>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;endian.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="smth-fragment-defs_8h_source.html">smth-fragment-defs.h</a>&gt;</code><br/>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#a0f1a39a9d7851a5b63413459364e4d36">GET_IF_FLAG_SET</a>(target, mask)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets target reading an appropriate number of bytes from stream.  <a href="#a0f1a39a9d7851a5b63413459364e4d36"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#a6527ccb8ef3906be034051c85c0e81e7">SMTH_parsefragment</a> (<a class="el" href="structFragment.html">Fragment</a> *f, FILE *stream)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parses a fragment opened as FILE and fills all the details in a <a class="el" href="structFragment.html" title="Will hold the parsed fragment data.">Fragment</a> structure.  <a href="#a6527ccb8ef3906be034051c85c0e81e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#a907a72a202ab4b72edc4194bd6b2b0e3">SMTH_disposefragment</a> (<a class="el" href="structFragment.html">Fragment</a> *f)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disposes properly of a <a class="el" href="structFragment.html" title="Will hold the parsed fragment data.">Fragment</a>. These days, it only calls <code>free()</code> on the dinamically allocated fields, but programmers are advised to use it instead of freeing memory by themselves, as the internal data structure may vary heavily in the future.  <a href="#a907a72a202ab4b72edc4194bd6b2b0e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#a9b5bd7b248d21e70a7df0ba00e0ac4be">readbox</a> (void *dest, size_t size, <a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read size bytes from root-&gt;stream, and stores them into dest.  <a href="#a9b5bd7b248d21e70a7df0ba00e0ac4be"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#ae4538ad7e594da00fb08821e60258e5b">getflags</a> (<a class="el" href="smth-common-defs_8h.html#aa7ae7e1be17d555a9e94b05548e0bfa7">flags_t</a> *defaultflags, <a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get flags &amp; version field from the stream.  <a href="#ae4538ad7e594da00fb08821e60258e5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#a4280188f0edd5ddb70b8ee4c7c220bf5">scanuuid</a> (<a class="el" href="structBox.html">Box</a> *root, <a class="el" href="smth-common-defs_8h.html#af130ffc205f173bdb999b297f88245aa">signedlength_t</a> boxsize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If total size of extracted elements is smaller than <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> size, it means that there is one or more UUIDBoxes awaiting at the end of the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a>: try to parse them, and if they are not UUIDBoxes, return an error.  <a href="#a4280188f0edd5ddb70b8ee4c7c220bf5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#a5bd168d2ddae5861a6b0ec80b87fbdca">parsebox</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">prepares the first <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> found on <code>box-&gt;stream</code> for parsing.  <a href="#a5bd168d2ddae5861a6b0ec80b87fbdca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#a2127fc619e68707fcdd17feb0140d47e">parsemoof</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MoofBox (metadata container) parser.  <a href="#a2127fc619e68707fcdd17feb0140d47e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#ad7e8e01d8fd60b8e696df6ec36c8b2d0">parsemfhd</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MfhdBox (position in the stream) parser.  <a href="#ad7e8e01d8fd60b8e696df6ec36c8b2d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#aacd0bf08d7c719c24dcaa70a136d4f8d">parsetraf</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TrafBox (track-specific metadata) parser.  <a href="#aacd0bf08d7c719c24dcaa70a136d4f8d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#a2fcffb1f3948e86eec1d9610f0b73ada">parsetfhd</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TfhdBox (per-sample defaults metadata) parser.  <a href="#a2fcffb1f3948e86eec1d9610f0b73ada"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#aa3b12bbf7056d757146d40ad679b77c2">parsetrun</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TrunBox (per-sample metadata) parser.  <a href="#aa3b12bbf7056d757146d40ad679b77c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#aa6c26bed9ef7e2138ae0ae9305f62f5b">parsesdtp</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SdtpBox (Independent and Disposable Samples <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a>) parser.  <a href="#aa6c26bed9ef7e2138ae0ae9305f62f5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#ad8e96d0e28a177c87ac5c606e2c49b77">parsemdat</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MdatBox (data container) parser.  <a href="#ad8e96d0e28a177c87ac5c606e2c49b77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#a460bd031b7806a64abb91710e1ba724b">parsetfxd</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TfxdBox (absolute timestamp and duration) parser.  <a href="#a460bd031b7806a64abb91710e1ba724b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#ab5d41ab64c1aa6b5b3c849704908bf10">parseencr</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SampleEncryptionBox (content protection metadata) parser.  <a href="#ab5d41ab64c1aa6b5b3c849704908bf10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="smth-fragment-parser_8c.html#a38f29317852e69d9eec74f5d57d37da7">parseuuid</a> (<a class="el" href="structBox.html">Box</a> *root)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">VendorExtensionUUIDBox (variable content) box.  <a href="#a38f29317852e69d9eec74f5d57d37da7"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Binary Fragments parser. </p>
<p><b>For internal use only.</b></p>
<dl class="author"><dt><b>Author:</b></dt><dd>Stefano Sanfilippo </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>27th-30th June 2010 </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a0f1a39a9d7851a5b63413459364e4d36"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::GET_IF_FLAG_SET" ref="a0f1a39a9d7851a5b63413459364e4d36" args="(target, mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_IF_FLAG_SET</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">target, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">mask</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> (boxflags &amp; mask) \
    {   <span class="keywordflow">if</span> (!<a class="code" href="smth-fragment-parser_8c.html#a9b5bd7b248d21e70a7df0ba00e0ac4be" title="Read size bytes from root-&amp;gt;stream, and stores them into dest.">readbox</a>(&amp;(target), <span class="keyword">sizeof</span> (target), root)) \
            <span class="keywordflow">return</span> FRAGMENT_IO_ERROR; \
        boxsize -= <span class="keyword">sizeof</span> (target); \
    } \
    <span class="keywordflow">else</span> target = 0;
</pre></div>
<p>Sets target reading an appropriate number of bytes from stream. </p>
<p>If flag marked by mask is set, target is set reading sizeof (target) bytes from the stream and decrements boxsize accordingly. This macro is intended for internal use only, and implemention may vary without notice.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>The target to be set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mask</em>&nbsp;</td><td>The mask to select the appropriate flag bit </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ae4538ad7e594da00fb08821e60258e5b"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::getflags" ref="ae4538ad7e594da00fb08821e60258e5b" args="(flags_t *defaultflags, Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool getflags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="smth-common-defs_8h.html#aa7ae7e1be17d555a9e94b05548e0bfa7">flags_t</a> *&nbsp;</td>
          <td class="paramname"> <em>defaultflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get flags &amp; version field from the stream. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>defultflags</em>&nbsp;</td><td>Pointer to the buffer that will hold the flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the operation was successfull, otherwise false </dd></dl>

</div>
</div>
<a class="anchor" id="a5bd168d2ddae5861a6b0ec80b87fbdca"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parsebox" ref="a5bd168d2ddae5861a6b0ec80b87fbdca" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parsebox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>prepares the first <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> found on <code>box-&gt;stream</code> for parsing. </p>
<p>parsebox will fill box structure with the size and the type of the incoming block and position the input stream to the first byte of box data. A parsing function would receive its size and type with the box structure, then it may call parsebox to identify children Boxes and so on. Obviously, it cannot be called by the parsing function itself, as the caller needs to know in advance which parser invoke.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>the box to be prepared. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS if the box was successfully prepared, FRAGMENT_IO_ERROR in case of read/write error and FRAGMENT_UNKNOWN if an unknown <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> type was encountered (it should never happen). </dd></dl>

</div>
</div>
<a class="anchor" id="ab5d41ab64c1aa6b5b3c849704908bf10"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parseencr" ref="ab5d41ab64c1aa6b5b3c849704908bf10" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parseencr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SampleEncryptionBox (content protection metadata) parser. </p>
<p>A SampleEncryptionBox is a particularly crafted VendorUUIDBox, with no compulsory children and a few optional fields, whose presence is determined using a flag field. It assumes that the signature has already been stripped by a call to parseuuid.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>pointer to the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> structure to be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS on successful parse, or an appropriate error code. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="smth-fragment-defs_8h.html#a3930044810e3c4572df41cc0cc5e44dc">encryptionuuid</a>, <a class="el" href="smth-fragment-parser_8c.html#a38f29317852e69d9eec74f5d57d37da7" title="VendorExtensionUUIDBox (variable content) box.">parseuuid</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad8e96d0e28a177c87ac5c606e2c49b77"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parsemdat" ref="ad8e96d0e28a177c87ac5c606e2c49b77" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parsemdat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>MdatBox (data container) parser. </p>
<p>A MdatBox has no children (not even a UUIDBox) and no fields: simply reads it in <a class="el" href="structFragment.html#a9a5a6d905a4568cd80e157ac82707c01">Fragment::data</a>. There may be only one per fragment, so we do not worry about data concatenation. <a class="el" href="structSample.html" title="Per-sample metadata.">Sample</a> boundaries in the MdatBox are defined by the values of the TrunBox::DefaultSampleSize and TrunBox::SampleSize fields. Individual sample sizes are stored into SampleFields::size and the overall number of samples in <a class="el" href="structFragment.html#aa829ee5cd014515f1763a90724d80549">Fragment::sampleno</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>pointer to the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> structure to be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS on successful parse, or an appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ad7e8e01d8fd60b8e696df6ec36c8b2d0"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parsemfhd" ref="ad7e8e01d8fd60b8e696df6ec36c8b2d0" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parsemfhd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>MfhdBox (position in the stream) parser. </p>
<p>Each MfhdBox contains a SequenceNumber field, representing the fragment's position in the sequence for the <a class="el" href="structTrack.html" title="Track specific metadata.">Track</a>. The SequenceNumber value for a <a class="el" href="structFragment.html" title="Will hold the parsed fragment data.">Fragment</a> must be greater than for a <a class="el" href="structFragment.html" title="Will hold the parsed fragment data.">Fragment</a> earlier in the timeline, but it is not required to be consecutive.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>box</em>&nbsp;</td><td>pointer to the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> structure to be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS on successful parse, or FRAGMENT_IO_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="a2127fc619e68707fcdd17feb0140d47e"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parsemoof" ref="a2127fc619e68707fcdd17feb0140d47e" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parsemoof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>MoofBox (metadata container) parser. </p>
<p>MoofBox has two compulsory children, one MfhdBox and one TrafBox, and no fields. Hence, parsemoof will parse two Boxes, determine their type and pass them to the appropriate parser.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>pointer to the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> structure to be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS on successful parse, FRAGMENT_PARSE_ERROR if subparsers failed to decode Boxes, or FRAGMENT_INAPPROPRIATE if a <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> that should not stay into a MoofBox was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="aa6c26bed9ef7e2138ae0ae9305f62f5b"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parsesdtp" ref="aa6c26bed9ef7e2138ae0ae9305f62f5b" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parsesdtp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SdtpBox (Independent and Disposable Samples <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a>) parser. </p>
<p>Marks frames that can be intentionally dropped if the CPU cannot keep up. This information is redundant, as it is repeated into more complete struct TrunBox: the box will be simply skipped.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>pointer to the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> structure to be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS </dd></dl>

</div>
</div>
<a class="anchor" id="a2fcffb1f3948e86eec1d9610f0b73ada"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parsetfhd" ref="a2fcffb1f3948e86eec1d9610f0b73ada" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parsetfhd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>TfhdBox (per-sample defaults metadata) parser. </p>
<p>A Tfhd <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> has no children and a variable number of default settings, whose presence is specified by the TfhdBoxFlags bitfield, a 3*BYTE field heading the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>pointer to the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> structure to be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS on successful parse, or an appropriate error code. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="smth-fragment-parser_8c.html#aa3b12bbf7056d757146d40ad679b77c2" title="TrunBox (per-sample metadata) parser.">parsetrun</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a460bd031b7806a64abb91710e1ba724b"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parsetfxd" ref="a460bd031b7806a64abb91710e1ba724b" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parsetfxd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>TfxdBox (absolute timestamp and duration) parser. </p>
<p>This field is found into a MoofBox (metadata) and should be ignored if it appears in an on-demand presentation. It assumes that the signature has already been stripped by a call to parseuuid.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>pointer to the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> structure to be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS on successful parse, or an appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="aacd0bf08d7c719c24dcaa70a136d4f8d"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parsetraf" ref="aacd0bf08d7c719c24dcaa70a136d4f8d" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parsetraf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>TrafBox (track-specific metadata) parser. </p>
<p>MoofBox has two compulsory children, one TfhdBox and one TrunBox, and no fields. Hence, parsemoof will parse two Boxes, determine their type and pass them to the appropriate parser.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>pointer to the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> structure to be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS on successful parse, or an appropriate error code. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="smth-fragment-parser_8c.html#a2127fc619e68707fcdd17feb0140d47e" title="MoofBox (metadata container) parser.">parsemoof</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa3b12bbf7056d757146d40ad679b77c2"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parsetrun" ref="aa3b12bbf7056d757146d40ad679b77c2" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parsetrun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>TrunBox (per-sample metadata) parser. </p>
<p>A Trun <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> has no children and a variable number of default settings, whose presence is specified by the TrunBoxFlags bitfield, a 3*BYTE field heading the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>pointer to the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> structure to be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS on successful parse, or an appropriate error code. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="smth-fragment-parser_8c.html#a2fcffb1f3948e86eec1d9610f0b73ada" title="TfhdBox (per-sample defaults metadata) parser.">parsetfhd</a> </dd>
<dd>
<a class="el" href="smth-fragment-parser_8c.html#a0f1a39a9d7851a5b63413459364e4d36" title="Sets target reading an appropriate number of bytes from stream.">GET_IF_FLAG_SET</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a38f29317852e69d9eec74f5d57d37da7"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::parseuuid" ref="a38f29317852e69d9eec74f5d57d37da7" args="(Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> parseuuid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>VendorExtensionUUIDBox (variable content) box. </p>
<p>Parses a 16byte UUID and a bytestream content to a Variable structure, and adds it to the list dereferenced by <a class="el" href="structFragment.html#a41fc8dc1702c29a0b881373f30a6b7cb">Fragment::extensions</a>. If the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> is a SampleEncryptionBox, it calls parseencr.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>pointer to the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> structure to be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS on successful parse, or an appropriate error code. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="smth-fragment-parser_8c.html#ab5d41ab64c1aa6b5b3c849704908bf10" title="SampleEncryptionBox (content protection metadata) parser.">parseencr</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9b5bd7b248d21e70a7df0ba00e0ac4be"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::readbox" ref="a9b5bd7b248d21e70a7df0ba00e0ac4be" args="(void *dest, size_t size, Box *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool readbox </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read size bytes from root-&gt;stream, and stores them into dest. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dest</em>&nbsp;</td><td>Pointer to the destination buffer. Note that readbox will not check for buffer overflow. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Number of bytes to read from the input stream </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>Pointer to a box structure holding the stream pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if no error was encountered, otherwise false </dd></dl>

</div>
</div>
<a class="anchor" id="a4280188f0edd5ddb70b8ee4c7c220bf5"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::scanuuid" ref="a4280188f0edd5ddb70b8ee4c7c220bf5" args="(Box *root, signedlength_t boxsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> scanuuid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBox.html">Box</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="smth-common-defs_8h.html#af130ffc205f173bdb999b297f88245aa">signedlength_t</a>&nbsp;</td>
          <td class="paramname"> <em>boxsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If total size of extracted elements is smaller than <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> size, it means that there is one or more UUIDBoxes awaiting at the end of the <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a>: try to parse them, and if they are not UUIDBoxes, return an error. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>If buffer was overflowed (read size is bigger than <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> size) returns FRAGMENT_OUT_OF_BOUNDS (it should never happen), else FRAGMENT_INAPPROPRIATE if an out-of-context <a class="el" href="structBox.html" title="Holds stream and metadata of currently parsed Box.">Box</a> was parsed, or or FRAGMENT_SUCCESS on successful parse. </dd></dl>

</div>
</div>
<a class="anchor" id="a907a72a202ab4b72edc4194bd6b2b0e3"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::SMTH_disposefragment" ref="a907a72a202ab4b72edc4194bd6b2b0e3" args="(Fragment *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMTH_disposefragment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFragment.html">Fragment</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disposes properly of a <a class="el" href="structFragment.html" title="Will hold the parsed fragment data.">Fragment</a>. These days, it only calls <code>free()</code> on the dinamically allocated fields, but programmers are advised to use it instead of freeing memory by themselves, as the internal data structure may vary heavily in the future. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>The fragment to be destroyed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6527ccb8ef3906be034051c85c0e81e7"></a><!-- doxytag: member="smth&#45;fragment&#45;parser.c::SMTH_parsefragment" ref="a6527ccb8ef3906be034051c85c0e81e7" args="(Fragment *f, FILE *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="smth-common-defs_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> SMTH_parsefragment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFragment.html">Fragment</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>stream</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parses a fragment opened as FILE and fills all the details in a <a class="el" href="structFragment.html" title="Will hold the parsed fragment data.">Fragment</a> structure. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>stream</em>&nbsp;</td><td>pointer to the stream from which to read the fragment. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>pointer to the <a class="el" href="structFragment.html" title="Will hold the parsed fragment data.">Fragment</a> structure to be filled with data extracted from the stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FRAGMENT_SUCCESS on successful parse, or an appropriate error code. </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

	<hr class="footer"/>
	<address style="text-align: right;"><small>
		Generated on Tue Dec 21 2010 15:46:42 for libsmth by
		<a href="http://www.doxygen.org/index.html"/>Doxygen</a>
		1.7.1
	</small></address>
</body>
</html>

#! /bin/sh
#
# (C) Stefano Sanfilippo 2010
#

# Remove anything that is autogenerated, to make Autotools less invasive
dispose_all()
{
	if [ -f Makefile ]; then make clean; fi

	rm -rf \
		Makefile Makefile.in \
		aclocal.m4 m4 \
		autom4te.cache \
		missing \
		config.guess config.log config.status config.sub \
		configure depcomp \
		install-sh libtool ltmain.sh \
		src/.deps \
		src/Makefile src/Makefile.in \
		src/utils/.deps \
		src/utils/Makefile src/utils/Makefile.in \
		doc/html \
		doc/latex
} > /dev/null

# Inflates the whole system (scripts, files & macros)
start_all()
{   if [ ! -d m4 ]; then mkdir m4; fi
	autoreconf --install
}

# Main chunk
case $1 in
	(start)
		start_all
		echo "Ready to run ./configure"
	;;
	(stop)
		dispose_all
		echo "Project cleaned"
	;;
esac

# vim: set ts=4 sw=4 tw=0:
